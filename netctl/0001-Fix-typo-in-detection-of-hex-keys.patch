From 3dc6d75f5fa4813fe5c998b13582912fffd88159 Mon Sep 17 00:00:00 2001
From: Jouke Witteveen <j.witteveen@gmail.com>
Date: Sat, 16 Nov 2013 23:12:11 +0100
Subject: [PATCH] Fix typo in detection of hex keys

Errata to f5065. $Key has a capital.
---
 src/lib/wpa | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/lib/wpa b/src/lib/wpa
index 6f21c0f..ff869db 100644
--- a/src/lib/wpa
+++ b/src/lib/wpa
@@ -218,7 +218,7 @@ wpa_make_config_block() {
       wep)
         echo "key_mgmt=NONE"
         echo "wep_tx_keyidx=0"
-        if (( ${#Key} % 2 == 0 )) && [[ "$key" = +([[:xdigit:]]) ]]; then
+        if (( ${#Key} % 2 == 0 )) && [[ "$Key" = +([[:xdigit:]]) ]]; then
             echo "wep_key0=$Key"
         else
             echo "wep_key0=$(wpa_quote "$Key")"
@@ -226,7 +226,7 @@ wpa_make_config_block() {
       ;;
       wpa)
         echo "proto=RSN WPA"
-        if [[ "${#key}" -eq 64 && "$key" = +([[:xdigit:]]) ]]; then
+        if [[ "${#Key}" -eq 64 && "$Key" = +([[:xdigit:]]) ]]; then
             echo "psk=$Key"
         else
             echo "psk=$(wpa_quote "$Key")"
-- 
1.8.4.2

